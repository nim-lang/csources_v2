/* Generated by Nim Compiler v1.9.1 */
#define NIM_INTBITS 32

#include "nimbase.h"
#include <string.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
#define nimfr_(x, y)
#define nimln_(x, y)
typedef struct NimStrPayload NimStrPayload;
typedef struct NimStringV2 NimStringV2;
typedef struct tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA;
typedef struct tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A;
typedef struct tyTuple__UV3llMMYFckfui8YMBuUZA tyTuple__UV3llMMYFckfui8YMBuUZA;
struct NimStrPayload {
NI cap;
NIM_CHAR data[SEQ_DECL_SIZE];
};
struct NimStringV2 {
NI len;
NimStrPayload* p;
};
struct tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A {
NI bytes;
NI16* data;
};
typedef N_STDCALL_PTR(NI, tyProc__3DGKXZ0P9ck0FlUFCwnVxaQ) (NI16* lpFileName__7a9bWWYCe1H7SYmqzSkKVPg, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* lpFindFileData__VjaXHiCsJnYzy0diBqe2ew);
typedef NI16 tyUncheckedArray__Tyd4y3haUOOHTj71TPIRag[1];
typedef N_STDCALL_PTR(NI32, tyProc__5sqIMptsyAfPn3c9cPj4DOA) (NI16* lpFileName__tjBqfvudXps9cQWUI3zJyEA);
typedef N_STDCALL_PTR(NI32, tyProc__29cQilB9cqahn5yPQZH66TkA) (NI16* lpExistingFileName__9ahbk4D9blFaYDsdyIaYmbnw, NI16* lpNewFileName__B9cJgTWO9a51pA01a2HqSZgQ, NI32 flags__TMZcEn8Z9cqWEexf8FQckZw);
struct tyTuple__UV3llMMYFckfui8YMBuUZA {
NimStringV2 Field0;
NimStringV2 Field1;
};
static N_INLINE(void, nimZeroMem)(void* p__BuPKoq7dppy2upaj3KUaxw, NI size__ttWVm79bajRU3tarcA7MkLw);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a__tZiCJHYy5dYyAh9cxwrrVhQ, int v__iM7JOvZxArJIvbhGyRZG6Q, NI size__ntsFNLS0mpvnjQFrZT7DCw);
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void);
static N_INLINE(NI16*, toWideCString__stdZwidestrs_41)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A x__NBa1pzleDFoqbT7nhVpSnA);
N_LIB_PRIVATE N_NIMCALL(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A, newWideCString__stdZwidestrs_287)(NimStringV2 s__TvPuMx6CGjgZlMxAat9b5Ug);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___stdZwidestrs_6)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A* a__T5KnFC1i1GXKLoRVEXa5DA);
N_LIB_PRIVATE N_NIMCALL(NI32, osLastError__stdZoserrors_89)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseOSError__stdZoserrors_86)(NI32 errorCode__pW4c9aJEinlYI1jZIvhGnmw, NimStringV2 additionalInfo__B0aylqmo75KM1PZjhD2Ciw);
N_LIB_PRIVATE N_NIMCALL(NimStringV2, dollar___stdZprivateZoscommon_71)(tyTuple__UV3llMMYFckfui8YMBuUZA x__3gbgphmPr2YyFiVFGB9c3cA);
N_LIB_PRIVATE N_NIMCALL(void, eqdestroy___stdZassertions_13)(NimStringV2* dest__C2JKGPCNdWKCPrsQvNywTQ);
extern NIM_BOOL nimInErrorMode__system_3980;
extern tyProc__3DGKXZ0P9ck0FlUFCwnVxaQ Dl_1442840828_;
extern tyProc__5sqIMptsyAfPn3c9cPj4DOA Dl_1442840841_;
extern tyProc__29cQilB9cqahn5yPQZH66TkA Dl_1442840853_;
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a__tZiCJHYy5dYyAh9cxwrrVhQ, int v__iM7JOvZxArJIvbhGyRZG6Q, NI size__ntsFNLS0mpvnjQFrZT7DCw) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a__tZiCJHYy5dYyAh9cxwrrVhQ, v__iM7JOvZxArJIvbhGyRZG6Q, ((size_t) (size__ntsFNLS0mpvnjQFrZT7DCw)));
}
static N_INLINE(NIM_BOOL*, nimErrorFlag)(void) {
	NIM_BOOL* result;
	result = (NIM_BOOL*)0;
	result = (&nimInErrorMode__system_3980);
	return result;
}
static N_INLINE(void, nimZeroMem)(void* p__BuPKoq7dppy2upaj3KUaxw, NI size__ttWVm79bajRU3tarcA7MkLw) {
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	nimSetMem__systemZmemory_7(p__BuPKoq7dppy2upaj3KUaxw, ((int)0), size__ttWVm79bajRU3tarcA7MkLw);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
}
static N_INLINE(NI16*, toWideCString__stdZwidestrs_41)(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A x__NBa1pzleDFoqbT7nhVpSnA) {
	NI16* result;
	result = (NI16*)0;
	result = x__NBa1pzleDFoqbT7nhVpSnA.data;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NI, findFirstFile__stdZprivateZoscommon_25)(NimStringV2 a__6Dk9a7BZYSdNpeJyWFX3bWg, tyObject_WIN32_FIND_DATA__aYwmSz9bIz0JHAL9ciwIrnhA* b__PrSDoHO5KSqcSa516AUiBQ) {
	NI result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmpD_;
	NI16* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NI)0;
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmpD_ = newWideCString__stdZwidestrs_287(a__6Dk9a7BZYSdNpeJyWFX3bWg);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NI16*)0;
	T1_ = toWideCString__stdZwidestrs_41(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	result = Dl_1442840828_(T1_, b__PrSDoHO5KSqcSa516AUiBQ);
	eqdestroy___stdZwidestrs_6((&colontmpD_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosfileExists)(NimStringV2 filename__jr1cGx9bv9bKesh89cHdBsY0w) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmpD_;
	NI32 a;
	NI16* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmpD_ = newWideCString__stdZwidestrs_287(filename__jr1cGx9bv9bKesh89cHdBsY0w);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NI16*)0;
	T1_ = toWideCString__stdZwidestrs_41(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	a = Dl_1442840841_(T1_);
	{
		if (!!((a == ((NI32)-1)))) goto LA4_;
		result = ((NI32)(a & ((NI32)16)) == ((NI32)0));
	}
	LA4_: ;
	eqdestroy___stdZwidestrs_6((&colontmpD_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nosdirExists)(NimStringV2 dir__xk554PB9aLmMcTN0DEiUcAg) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmpD_;
	NI32 a;
	NI16* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmpD_ = newWideCString__stdZwidestrs_287(dir__xk554PB9aLmMcTN0DEiUcAg);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NI16*)0;
	T1_ = toWideCString__stdZwidestrs_41(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	a = Dl_1442840841_(T1_);
	{
		if (!!((a == ((NI32)-1)))) goto LA4_;
		result = !(((NI32)(a & ((NI32)16)) == ((NI32)0)));
	}
	LA4_: ;
	eqdestroy___stdZwidestrs_6((&colontmpD_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, tryMoveFSObject__stdZprivateZoscommon_61)(NimStringV2 source__JHO6Mxbd2679bzY6BaBxm9cg, NimStringV2 dest__zwT1XcVi4F8TVPiSdYXnlw, NIM_BOOL isDir__sF9aMD1wKTEE2FgK7RzoEYg) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A s;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A d;
	NI16* T2_;
	NI16* T3_;
	NI32 T4_;
NIM_BOOL oldNimErrFin1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&s), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	nimZeroMem((void*)(&d), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	s = newWideCString__stdZwidestrs_287(source__JHO6Mxbd2679bzY6BaBxm9cg);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	d = newWideCString__stdZwidestrs_287(dest__zwT1XcVi4F8TVPiSdYXnlw);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T2_ = (NI16*)0;
	T2_ = toWideCString__stdZwidestrs_41(s);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T3_ = (NI16*)0;
	T3_ = toWideCString__stdZwidestrs_41(d);
	if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
	T4_ = (NI32)0;
	T4_ = Dl_1442840853_(T2_, T3_, ((NI32)3));
	result = !((T4_ == ((NI32)0)));
	{
		NI32 err;
		NIM_BOOL isAccessDeniedError;
		NIM_BOOL T9_;
		if (!!(result)) goto LA7_;
		err = osLastError__stdZoserrors_89();
		if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		T9_ = (NIM_BOOL)0;
		T9_ = isDir__sF9aMD1wKTEE2FgK7RzoEYg;
		if (!(T9_)) goto LA10_;
		T9_ = (err == ((NI32)5));
		LA10_: ;
		isAccessDeniedError = T9_;
		{
			NimStringV2 colontmpD_;
			tyTuple__UV3llMMYFckfui8YMBuUZA T16_;
			if (!!(isAccessDeniedError)) goto LA13_;
			colontmpD_.len = 0; colontmpD_.p = NIM_NIL;
			T16_.Field0 = source__JHO6Mxbd2679bzY6BaBxm9cg;
			T16_.Field1 = dest__zwT1XcVi4F8TVPiSdYXnlw;
			colontmpD_ = dollar___stdZprivateZoscommon_71(T16_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
			raiseOSError__stdZoserrors_86(err, colontmpD_);
			if (NIM_UNLIKELY(*nimErr_)) goto LA15_;
			{
				LA15_:;
			}
			{
				eqdestroy___stdZassertions_13((&colontmpD_));
			}
			if (NIM_UNLIKELY(*nimErr_)) goto LA1_;
		}
		LA13_: ;
	}
	LA7_: ;
	{
		LA1_:;
	}
	{
		oldNimErrFin1_ = *nimErr_; *nimErr_ = NIM_FALSE;
		eqdestroy___stdZwidestrs_6((&d));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		eqdestroy___stdZwidestrs_6((&s));
		if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
		*nimErr_ = oldNimErrFin1_;
	}
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
N_LIB_PRIVATE N_NIMCALL(NIM_BOOL, nossymlinkExists)(NimStringV2 link__RFQEuccmOm7K5GUW5SrU1g) {
	NIM_BOOL result;
	tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A colontmpD_;
	NI32 a;
	NI16* T1_;
NIM_BOOL* nimErr_;
{nimErr_ = nimErrorFlag();
	result = (NIM_BOOL)0;
	nimZeroMem((void*)(&colontmpD_), sizeof(tyObject_WideCStringObj__BwbUsAz4qeNPsD7q6SJ32A));
	colontmpD_ = newWideCString__stdZwidestrs_287(link__RFQEuccmOm7K5GUW5SrU1g);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	T1_ = (NI16*)0;
	T1_ = toWideCString__stdZwidestrs_41(colontmpD_);
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	a = Dl_1442840841_(T1_);
	{
		if (!!((a == ((NI32)-1)))) goto LA4_;
		result = !(((NI32)(a & ((NI32)1024)) == ((NI32)0)));
	}
	LA4_: ;
	eqdestroy___stdZwidestrs_6((&colontmpD_));
	if (NIM_UNLIKELY(*nimErr_)) goto BeforeRet_;
	}BeforeRet_: ;
	return result;
}
